"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[154],{"./src/feature/pokemon/components/PackSelector/PackSelector.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{WithOperationArea:()=>WithOperationArea,WithoutOperationArea:()=>WithoutOperationArea,__namedExportsOrder:()=>__namedExportsOrder,default:()=>PackSelector_stories});var jsx_runtime=__webpack_require__("./node_modules/next/dist/compiled/react/jsx-runtime.js"),react=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),Card=__webpack_require__("./node_modules/@mui/material/Card/Card.js"),CardContent=__webpack_require__("./node_modules/@mui/material/CardContent/CardContent.js"),Box=__webpack_require__("./node_modules/@mui/material/Box/Box.js"),Typography=__webpack_require__("./node_modules/@mui/material/Typography/Typography.js"),PackCarousel=__webpack_require__("./src/feature/pokemon/components/PackCarousel/PackCarousel.tsx");const PackSelector=({packs,title,operationArea})=>{const[selectedPack,setSelectedPack]=(0,react.useState)(null);return(0,jsx_runtime.jsx)(Card.A,{children:(0,jsx_runtime.jsx)(CardContent.A,{children:(0,jsx_runtime.jsxs)(Box.A,{display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",gap:2,children:[(0,jsx_runtime.jsx)(Typography.A,{variant:"h6",children:title}),(0,jsx_runtime.jsx)(PackCarousel.K,{packs,onSelect:setSelectedPack}),operationArea&&selectedPack&&(0,jsx_runtime.jsx)(Box.A,{mt:2,children:operationArea(selectedPack)})]})})})};PackSelector.__docgenInfo={description:"",methods:[],displayName:"PackSelector",props:{packs:{required:!0,tsType:{name:"Array",elements:[{name:"PokemonPackItem"}],raw:"PokemonPackItem[]"},description:""},title:{required:!0,tsType:{name:"string"},description:""},operationArea:{required:!1,tsType:{name:"signature",type:"function",raw:"(pack?: PokemonPackItem) => ReactNode",signature:{arguments:[{type:{name:"PokemonPackItem"},name:"pack"}],return:{name:"ReactNode"}}},description:""}}};var dist=__webpack_require__("./node_modules/@storybook/test/dist/index.mjs"),Button=__webpack_require__("./node_modules/@mui/material/Button/Button.js"),pokemon=__webpack_require__("./src/feature/pokemon/mocks/pokemon.ts");const PackSelector_stories={title:"feature/Pokemon/PackSelector",tags:["autodocs"],component:PackSelector},handleButtonClick=(0,dist.fn)(),WithOperationArea={args:{packs:pokemon.T,title:"開封したいパックを選ぼう！",operationArea:selectedPack=>selectedPack&&(0,jsx_runtime.jsx)(Button.A,{variant:"contained",onClick:()=>handleButtonClick(selectedPack),children:"開封する"})},play:async({canvasElement,args,step})=>{const canvas=(0,dist.ux)(canvasElement);await(0,dist.E3)(canvas.getByText(args.title)).toBeVisible(),await step("ボタンを渡した時の動作確認",(async()=>{const button=canvas.getByRole("button",{name:"開封する"});await(0,dist.E3)(button).toBeVisible(),await dist.Q4.click(button),(0,dist.E3)(handleButtonClick).toHaveBeenCalledTimes(1);const selectedPack=args.packs[0];(0,dist.E3)(handleButtonClick).toHaveBeenCalledWith(dist.E3.objectContaining(selectedPack))}))}},WithoutOperationArea={args:{packs:pokemon.T,title:"開封したいパックを選ぼう！"},play:async({canvasElement,args})=>{const canvas=(0,dist.ux)(canvasElement);await(0,dist.E3)(canvas.getByText(args.title)).toBeVisible()}},__namedExportsOrder=["WithOperationArea","WithoutOperationArea"];WithOperationArea.parameters={...WithOperationArea.parameters,docs:{...WithOperationArea.parameters?.docs,source:{originalSource:'{\n  args: {\n    packs: PackItemMock,\n    title: "開封したいパックを選ぼう！",\n    operationArea: selectedPack => selectedPack && <Button variant="contained" onClick={() => handleButtonClick(selectedPack)}>\n          開封する\n        </Button>\n  },\n  play: async ({\n    canvasElement,\n    args,\n    step\n  }) => {\n    const canvas = within(canvasElement);\n    await expect(canvas.getByText(args.title)).toBeVisible();\n    await step("ボタンを渡した時の動作確認", async () => {\n      const button = canvas.getByRole("button", {\n        name: "開封する"\n      });\n      await expect(button).toBeVisible();\n      await userEvent.click(button);\n      expect(handleButtonClick).toHaveBeenCalledTimes(1);\n      const selectedPack = args.packs[0];\n      expect(handleButtonClick).toHaveBeenCalledWith(expect.objectContaining(selectedPack));\n    });\n  }\n}',...WithOperationArea.parameters?.docs?.source}}},WithoutOperationArea.parameters={...WithoutOperationArea.parameters,docs:{...WithoutOperationArea.parameters?.docs,source:{originalSource:'{\n  args: {\n    packs: PackItemMock,\n    title: "開封したいパックを選ぼう！"\n  },\n  play: async ({\n    canvasElement,\n    args\n  }) => {\n    const canvas = within(canvasElement);\n    await expect(canvas.getByText(args.title)).toBeVisible();\n  }\n}',...WithoutOperationArea.parameters?.docs?.source}}}},"./src/feature/pokemon/components/Pack/Pack.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{m:()=>Pack});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/next/dist/compiled/react/jsx-runtime.js"),_barrel_optimize_names_Box_Card_keyframes_mui_material__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@emotion/react/dist/emotion-react.browser.esm.js"),_barrel_optimize_names_Box_Card_keyframes_mui_material__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@mui/material/Box/Box.js"),_barrel_optimize_names_Box_Card_keyframes_mui_material__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@mui/material/Card/Card.js"),next_image__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@storybook/nextjs/dist/images/next-image.mjs");let t;const tiltHorizontalAnimation=(0,_barrel_optimize_names_Box_Card_keyframes_mui_material__WEBPACK_IMPORTED_MODULE_2__.i7)(t||(t=(t=>t)`
  0% { transform: rotateY(0deg); }
  25% { transform: rotateY(-5deg); }
  50% { transform: rotateY(5deg); }
  75% { transform: rotateY(-5deg); }
  100% { transform: rotateY(0deg); }
`)),Pack=({pack,showShadow})=>{const cardStyles={borderRadius:3,overflow:"hidden",boxShadow:2,width:"200px"};return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_barrel_optimize_names_Box_Card_keyframes_mui_material__WEBPACK_IMPORTED_MODULE_3__.A,{sx:{position:"relative",mb:showShadow?6:0},children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_barrel_optimize_names_Box_Card_keyframes_mui_material__WEBPACK_IMPORTED_MODULE_4__.A,{sx:{...cardStyles,animation:`${tiltHorizontalAnimation} 4s infinite`,cursor:"grab"},children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_barrel_optimize_names_Box_Card_keyframes_mui_material__WEBPACK_IMPORTED_MODULE_3__.A,{sx:{width:"100%",position:"relative",height:"300px"},children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(next_image__WEBPACK_IMPORTED_MODULE_1__.A,{src:pack.img,alt:pack.name,fill:!0,style:{objectFit:"cover"}}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_barrel_optimize_names_Box_Card_keyframes_mui_material__WEBPACK_IMPORTED_MODULE_3__.A,{sx:{position:"absolute",top:"15%",left:0,width:"100%",borderTop:"3px dashed #ccc",zIndex:2}})]})}),showShadow&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_barrel_optimize_names_Box_Card_keyframes_mui_material__WEBPACK_IMPORTED_MODULE_3__.A,{sx:{position:"absolute",top:"105%",left:0,right:0,transform:"scaleY(-1)",opacity:.6,filter:"blur(3px)"},children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_barrel_optimize_names_Box_Card_keyframes_mui_material__WEBPACK_IMPORTED_MODULE_4__.A,{sx:{...cardStyles,boxShadow:0},children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_barrel_optimize_names_Box_Card_keyframes_mui_material__WEBPACK_IMPORTED_MODULE_3__.A,{sx:{width:"100%",position:"relative",height:"300px"},children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(next_image__WEBPACK_IMPORTED_MODULE_1__.A,{src:pack.img,alt:`${pack.name} reflection`,fill:!0,style:{objectFit:"cover"}})})})})]})};Pack.__docgenInfo={description:"",methods:[],displayName:"Pack",props:{showShadow:{required:!1,tsType:{name:"boolean"},description:""},pack:{required:!0,tsType:{name:"PokemonPackItem"},description:""}}}},"./src/feature/pokemon/components/PackCarousel/PackCarousel.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{K:()=>PackCarousel});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/next/dist/compiled/react/jsx-runtime.js"),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),swiper_react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/swiper/swiper-react.mjs"),swiper_modules__WEBPACK_IMPORTED_MODULE_5__=(__webpack_require__("./node_modules/swiper/swiper.css"),__webpack_require__("./node_modules/swiper/modules/effect-coverflow.css"),__webpack_require__("./node_modules/swiper/modules/index.mjs")),_Pack_Pack__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./src/feature/pokemon/components/Pack/Pack.tsx");const PackCarousel=({packs,onSelect})=>{const[activeIndex,setActiveIndex]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(swiper_react__WEBPACK_IMPORTED_MODULE_2__.RC,{modules:[swiper_modules__WEBPACK_IMPORTED_MODULE_5__.t9],effect:"coverflow",centeredSlides:!0,loop:!0,slidesPerView:2.5,onSlideChange:swiper=>{const newIndex=swiper.realIndex;setActiveIndex(newIndex),onSelect&&onSelect(packs[newIndex])},coverflowEffect:{rotate:-15,stretch:-20,depth:200,modifier:1,slideShadows:!1},style:{width:"100%",paddingBottom:"40px"},children:packs.map(((pack,index)=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(swiper_react__WEBPACK_IMPORTED_MODULE_2__.qr,{style:{display:"flex",justifyContent:"center"},children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_Pack_Pack__WEBPACK_IMPORTED_MODULE_6__.m,{pack,showShadow:!0})},pack.id)))})};PackCarousel.__docgenInfo={description:"",methods:[],displayName:"PackCarousel",props:{packs:{required:!0,tsType:{name:"Array",elements:[{name:"PokemonPackItem"}],raw:"PokemonPackItem[]"},description:""},onSelect:{required:!1,tsType:{name:"signature",type:"function",raw:"(pack: PokemonPackItem) => void",signature:{arguments:[{type:{name:"PokemonPackItem"},name:"pack"}],return:{name:"void"}}},description:""}}}},"./src/feature/pokemon/mocks/pokemon.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{T:()=>PackItemMock});const PackItemMock=Array.from({length:20},((_,index)=>({id:(index+1).toString(),name:`Pack ${index+1}`,img:"/pack.png"})))}}]);
//# sourceMappingURL=feature-pokemon-components-PackSelector-PackSelector-stories.e7e7481f.iframe.bundle.js.map